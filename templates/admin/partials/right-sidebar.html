<aside x-show="$store.global.isRightSidebarExpanded"
       @keydown.window.escape="$store.global.isRightSidebarExpanded = false"
       class="fixed right-0 top-0 z-50 h-full w-full sm:w-96 bg-white dark:bg-navy-800 shadow-2xl transition-transform duration-200 border-l border-slate-150 dark:border-navy-600"
       x-transition:enter="ease-out"
       x-transition:enter-start="translate-x-full"
       x-transition:enter-end="translate-x-0"
       x-transition:leave="ease-in"
       x-transition:leave-start="translate-x-0"
       x-transition:leave-end="translate-x-full">

  <div class="flex items-center justify-between py-4 px-6 border-b border-slate-150 dark:border-navy-600 bg-gradient-to-r from-primary/5 to-transparent">
    <h2 class="font-semibold text-slate-700 dark:text-navy-100 text-lg tracking-wide">Control Center</h2>
    <button @click="$store.global.isRightSidebarExpanded = false"
            class="btn size-9 p-0 hover:bg-slate-200 dark:hover:bg-navy-600 rounded-full transition">
      <i class="fas fa-times text-lg text-slate-500 dark:text-navy-100"></i>
    </button>
  </div>
  <div x-data="{ activeTab: 'notifications' }" class="flex flex-col h-full">
    <div class="flex justify-around border-b border-slate-150 dark:border-navy-600 text-sm font-medium bg-slate-50 dark:bg-navy-800">
      <button @click="activeTab = 'notifications'" :class="activeTab === 'notifications' && 'text-primary dark:text-accent border-b-2 border-primary dark:border-accent'"
              class="flex-1 py-3 hover:text-primary dark:hover:text-accent transition-colors flex items-center gap-2">
        <i class="fas fa-bell"></i>
        <span>Notifications</span>
      </button>
      <button @click="activeTab = 'actions'" :class="activeTab === 'actions' && 'text-primary dark:text-accent border-b-2 border-primary dark:border-accent'"
              class="flex-1 py-3 hover:text-primary dark:hover:text-accent transition-colors flex items-center gap-2">
        <i class="fas fa-bolt"></i>
        <span>Quick Actions</span>
      </button>
      <button @click="activeTab = 'activity'" :class="activeTab === 'activity' && 'text-primary dark:text-accent border-b-2 border-primary dark:border-accent'"
              class="flex-1 py-3 hover:text-primary dark:hover:text-accent transition-colors flex items-center gap-2">
        <i class="fas fa-clock"></i>
        <span>Activity</span>
      </button>
    </div>
    <div class="flex-1 overflow-y-auto p-6 space-y-6">
      <!-- Notifications Tab -->
      <div x-show="activeTab === 'notifications'">
        <h3 class="text-base font-semibold mb-4 text-slate-700 dark:text-navy-100">Recent Notifications</h3>
        <ul class="space-y-3">
          <li class="p-4 bg-slate-50 dark:bg-navy-700 rounded-xl shadow flex items-center gap-3">
            <span class="inline-block bg-primary/20 text-primary rounded-full p-2">
              <i class="fas fa-bell"></i>
            </span>
            <span class="text-sm flex-1 text-slate-700 dark:text-navy-100">You have a new team message.</span>
            <button class="btn btn-xs bg-slate-200 dark:bg-navy-600 text-xs rounded hover:bg-slate-300 dark:hover:bg-navy-500">Mark as read</button>
          </li>
          <li class="p-4 bg-slate-50 dark:bg-navy-700 rounded-xl shadow flex items-center gap-3">
            <span class="inline-block bg-success/20 text-success rounded-full p-2">
              <i class="fas fa-check"></i>
            </span>
            <span class="text-sm flex-1 text-slate-700 dark:text-navy-100">Meeting "AI Strategy" marked as complete.</span>
          </li>
        </ul>
      </div>
      <!-- Quick Actions Tab -->
      <div x-show="activeTab === 'actions'">
        <h3 class="text-base font-semibold mb-4 text-slate-700 dark:text-navy-100">Quick Actions</h3>
        <div class="flex flex-col gap-3">
          <a href="/schedule" class="btn bg-primary/90 text-white rounded-lg px-4 py-2 shadow hover:bg-primary/80 transition-all flex items-center gap-2">
            <i class="fas fa-calendar-plus"></i>
            Schedule Meeting
          </a>
          <a href="/summary" class="btn bg-accent/90 text-white rounded-lg px-4 py-2 shadow hover:bg-accent/80 transition-all flex items-center gap-2">
            <i class="fas fa-file-alt"></i>
            Post Summary
          </a>
          <a href="/integrations" class="btn bg-slate-200 dark:bg-navy-700 text-slate-700 dark:text-navy-100 rounded-lg px-4 py-2 shadow hover:bg-slate-300 dark:hover:bg-navy-600 transition-all flex items-center gap-2">
            <i class="fas fa-plug"></i>
            Manage Integrations
          </a>
        </div>
      </div>
      <!-- Activity Tab -->
      <div x-show="activeTab === 'activity'">
        <h3 class="text-base font-semibold mb-4 text-slate-700 dark:text-navy-100">Recent Activity</h3>
        <ul class="space-y-3">
          <li class="flex items-center gap-3">
            <span class="inline-block bg-primary/10 text-primary rounded-full p-2"><i class="fas fa-calendar"></i></span>
            <div class="flex-1">
              <div class="text-sm text-slate-700 dark:text-navy-100">EchoFlow Stand-up scheduled</div>
              <div class="text-xs text-slate-400 dark:text-slate-300">5 mins ago</div>
            </div>
          </li>
          <li class="flex items-center gap-3">
            <span class="inline-block bg-accent/10 text-accent rounded-full p-2"><i class="fas fa-robot"></i></span>
            <div class="flex-1">
              <div class="text-sm text-slate-700 dark:text-navy-100">WhatsApp summary posted</div>
              <div class="text-xs text-slate-400 dark:text-slate-300">30 mins ago</div>
            </div>
          </li>
          <li class="flex items-center gap-3">
            <span class="inline-block bg-success/10 text-success rounded-full p-2"><i class="fas fa-check-double"></i></span>
            <div class="flex-1">
              <div class="text-sm text-slate-700 dark:text-navy-100">Project "Waste Mgmt" completed</div>
              <div class="text-xs text-slate-400 dark:text-slate-300">1 hour ago</div>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </div>
</aside>